---
import logoReference from "../../public/logo.svg";
import NavigationBar from "@/components/navigationBar.astro";

import Image from "astro/components/Image.astro";
import accesibilityImage from "../../public/accesibility.svg";

import ContactInformation from "@/interfaces/contactInformation";
import fetchApi from "@/lib/strapi";

import CustomInput from "../components/customInput.astro";


const contactInformation = await fetchApi<ContactInformation>(
    {
        endpoint: 'coordonnees',
        wrappedByKey: 'data',
        query: {
            populate: "*"
        }
    }
)

const { title }  = Astro.props || {};
---
<!DOCTYPE html>
<html lang="fr-FR">

    <head>
        <meta charset="UTF-8" />
        <meta name="description" content="Page web Handicap Visuel Val de Loire"/>
        <meta name="keywords" content="Handicap, Blog, France, Web"/>
        <meta name="author" content="Heyner Cuevas" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="/favicon.png" type="image/png" sizes="32x32">
        <link rel="apple-touch-icon" href="/favicon.png" type="image/png" sizes="32x32">
        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
        <title>{title??"Handicap Visuel Val de Loire"}</title>
    </head>
    <body>
        <header class="h-16 flex justify-between align-middle bg-gradient-to-r from-blue-600 to-blue-400 text-white sticky top-0 px-5 items-center z-50">

            <a class="h-full w-auto" href="/">
                <div class="flex gap-4">
                    <img class="h-16 py-3" src={logoReference.src} alt="logo" />
                    <span class="font-bold self-center">Handicap Visuel Val de Loire</span>
                </div>
            </a>
            <NavigationBar />
        </header>
        <main class="z-10 w-full flex flex-col items-center">
            <slot />
        </main>
        <div id="newsletter-wrapper" class="flex w-full justify-center">
            <section class="flex flex-col gap-10 p-7 max-w-[2000px] w-full">
                <span class="text-2xl font-bold">S&apos;abonner à notre lettre d&apos;informations</span>
                <div class="flex max-lg:flex-col-reverse gap-5 justify-evenly">
                    <div class="self-center flex flex-col gap-10">
                        <div class="flex max-md:flex-col md:gap-8 max-md:gap-5">
                            <CustomInput placeholder="nom" type="text" label="Nom" hideLabel/>
                            <CustomInput placeholder="email" type="email" label="Email" hideLabel/>
                        </div>
                        <button class="bg-gradient-to-r from-blue-500 to-blue-400 hover:bg-gradient-to-r hover:from-blue-600 hover:to-blue-500 text-white font-bold self-center rounded-full px-3 py-0.5 max-md:text-sm">S&apos;abonner</button>
                    </div>
                    <Image
                            src={accesibilityImage}
                            class="h-80 max-md:h-60 w-auto"
                            alt="image d'une femme en fateuil roulant touchant une page web"
                    />
                </div>
            </section>
        </div>
        <footer class="flex w-full justify-center bg-gradient-to-r from-blue-600 to-blue-400 text-white">
            <div class="flex max-md:flex-col max-md:gap-7 justify-between w-full p-7 max-w-[2000px]">
                <div class="flex flex-col gap-7">
                    <span class="text-2xl font-bold">Contact</span>
                    <div class="flex flex-col gap-1">
                        <span>{contactInformation.attributes.adresse}</span>
                        <span>{contactInformation.attributes.code_postal} {contactInformation.attributes.ville.toUpperCase()}</span>
                        <span>{contactInformation.attributes.numero_telephone}</span>
                        <span>{contactInformation.attributes.email}</span>
                    </div>
                </div>
                <a class="font-bold hover:underline" href="#">Données personnelles</a>
                <a class="font-bold hover:underline" href="#">Mentions Legales - RGPD</a>
            </div>
        </footer>
    </body>
</html>



