<script>
    const navMenuClickHandler = (event: Event) => {
        event.preventDefault();
        const menuInput = document.querySelector("#menustate")
        if(menuInput !== null && "checked" in menuInput) menuInput.checked = !menuInput.checked
    }
    document.querySelector("#nav-menu-open")?.addEventListener('click', navMenuClickHandler);
    document.querySelector("#nav-menu-close")?.addEventListener('click', navMenuClickHandler);
</script>

<nav class="relative">
    <input aria-hidden="true" type="checkbox" id="menustate" class="hidden peer"/>
    <label for="menustate" class="group md:hidden" >
        <a
                id="nav-menu-open"
                role="button"
                href="#menustate"
                class="peer-checked:group-[]:hidden peer-target:group-[]:hidden"
        >
            <span aria-hidden="true" class="text-right font-bold text-3xl material-symbols-outlined">menu</span>
            <span class="sr-only">Ouvrir ménu</span>
        </a>
        <a
                id="nav-menu-close"
                role="button"
                href="#"
                class="hidden peer-checked:group-[]:block peer-target:group-[]:block"
        >
            <span aria-hidden="true" class="text-right text-3xl material-symbols-outlined">menu_open</span>
            <span class="sr-only">Fermer ménu</span>
        </a>
    </label>
    <div class="max-md:hidden max-md:absolute
     max-md:h-dvh max-md:w-dvw max-md:right-0 max-md:peer-checked:block max-md:peer-target:block max-md:bg-black max-md:bg-opacity-35 max-md:-me-5 max-md:mt-3">
        <ul class="max-md:absolute max-md:right-0 flex max-md:flex-col gap-10 max-md:bg-gradient-to-r max-md:from-blue-500 max-md:to-blue-400 max-md:h-dvh max-md:w-[50dvw] max-md:text-center max-md:pt-3">
            <li class={/^\/$/.test(Astro.url.pathname)?"font-bold underline underline-offset-[0.5rem]":""}><a href="/">Accueil</a></li>
            <li class={/association/.test(Astro.url.pathname)?"font-bold underline underline-offset-[0.5rem]":""}><a href="/association">L&apos;association</a></li>
            <li class={/actualites/.test(Astro.url.pathname)?"font-bold underline underline-offset-[0.5rem]":""}><a href="/actualites">Actualités</a></li>
            <li class={/contact/.test(Astro.url.pathname)?"font-bold underline underline-offset-[0.5rem]":""}><a href="/contact">Contact</a></li>
        </ul>
    </div>
</nav>